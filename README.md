# SPA(Single Page Application)

웹에서 제공되는 정보 많아 새로운 화면 보여 줘야 할 때마다 서버측에서 모든 뷰 준비하면 성능상의 문제 발생할 수 있음

- 리액트같은 라이브러리나 프레임워크 사용해 뷰 렌더링을 사용자의 브라우저가 담당하도록 하고 애플리케이션을 브라우저에 불러와서 실행시킨 후 사용자와의 인터랙션이 발생하면 필요한 부분만 자바스크립트 사용해 업데이트

- 라우팅 : 다른 주소에 다른 화면 보여주는 것으로 리액트 라이브러리 자체에는 이 기능이 내장되어있지않음 => 브라우저 API 직접 사용해 관리 or 라이브러리 이용
  - 리액트 라우터 라이브러리 : 리액트 라우터, 리치 라우터, Next.js 등

#### SPA 단점

앱 규모 커지면 자바스크립트 파일 커짐 => 코드 스플리팅 사용해 라우트별로 파일들을 나눠 트랙픽과 로딩 속도 개선할 수 있음

### 프로젝트에 리액트 라우터 적용

- src/index.js 파일에서 react-router-dom에 내장되어 있는 BrowserRouter라는 컴포넌트를 사용하여 감싸면 됨

### Route 컴포넌트로 특정 주소에 컴포넌트 연결

- 사용방식 : <Route path="주소규칙" component={보여 줄 컴포넌트} />
- path props를 배열로 설정해 주면 여러 경로에서 같은 컴포넌트 보여줄 수 있음

### Link 컴포넌트 사용해 다른 주소로 이동

- 사용방식 : <Link to="주소">내용</Link>
- 일반 웹 애플리케이션에서는 a 태그 사용해 페이지 전환하지만 리액트 라우터 사용할 땐 a 태그 직접 사용 X
  : 페이지 전환하는 과정에서 페이지 새로 불러오기 때문에 애플리케이션이 들고 있던 상태들 모두 날려 렌더링된 컴포넌트들도 모두 사라지고 다시 처음부터 렌더링하게 됨
- Link 컴포넌트 자체는 a 태그로 이뤄져있지만 페이지 전환하는 기능 내장
  : 페이지 새로 불러오지 않고 애플리케이션은 그대로 유지한 상태에서 HTML5 History API 사용해 페이지 주소만 변경해줌

### URL 파라미터와 쿼리

- 일반적으로 파라미터는 특정 아이디나 이름을 사용해 조회할 때 사용하고, 쿼리는 어떤 키워드 검색하거나 페이지에 필요한 옵션을 전달할 때 사용
- 쿼리는 라우트 컴포넌트에게 props로 전달되는 location 객체에 있는 search 값에서 읽어올 수 있음 -> 문자열 형태로 되어있어 qs 라이브러리 사용해 객체 형태로 변환

### 리액트 라우터 부가 기능

#### history

- history 객체는 라우트로 사용된 컴포넌트에 match, location과 함께 전달되는 props 중 하나
- 이 객체를 통해 컴포넌트 내에 구현하는 메서드에서 라우터 API 호출할 수 있음
  ex) 특정버튼 눌렀을 때 뒤로 가거나 로그인 후 화면 전환하거나 다른 페이지로 이탈하는 것 방지해야 할 때 history 활용

#### withRouter

- Hoc(Higher-order Component)로 라우트로 사용된 컴포넌트가 아니어도 match, location, history 객체를 접근할 수 있게 해 줌

#### Switch

- Switch 컴포넌트는 여러 Route를 감싸서 그 중 일치하는 단 하나의 라우트만을 렌더링시켜줌
- 모든 규칙과 일치하지 않을 때 보여줄 Not Found 페이지도 구현 가능

#### NavLink

- 현재 경로와 Link에서 사용하는 경로가 일치하는 경우 특정 스타일 혹은 CSS 클래스를 적용할 수 있는 컴포넌트
- 링크 활성화되었을 때의 스타일 적용할 때는 activeStyle값을, CSS 클래스 적용할 때는 activeClassName 값을 props로 넣어주면 됨
